import { Meta, Story, ArgsTable } from "@storybook/addon-docs/blocks"

import { UnitSystem } from "Features/Units/types"
import { platform } from "stories/platform"

import { ObservedConditionsDatasets } from "./index"

<Meta title="ERDDAP/ObservedCondition" component={ObservedConditionsDatasets} />

# Observed Conditions

[`src/Features/ERDDAP/Platform/Observations/Conditions`](https://github.com/gulfofmaine/Neracoos-1-Buoy-App/blob/master/src/Features/ERDDAP/Platform/Observations/Condition/index.tsx) - [Platform M01 - Air Temperature](https://mariners.neracoos.org/platform/M01/observations/air_temperature)

The observed conditions charts are used to display 7 (or in the future more!)
days worth of data queried from ERDDAP.

<Story
  name="Observed Conditions"
  args={{ unit_system: UnitSystem.english, standardName: standard_name, datasets, platform }}
>
  {Template.bind()}
</Story>

It honors the set unit system, and if you switch
unit system while it is displayed it will smoothly transition.

<ArgsTable story="Observed Conditions" />

```tsx
<ObservedConditionsDatasets
  platform={platform}
  standardName={standard_name}
  unit_system={UnitSystem.english}
  datasets={datasets}
/>
```

export const Template = (args) => <ObservedConditionsDatasets {...args} />
const standard_name = "visibility_in_air"
const datasets = platform.properties.readings.filter((reading) => reading.data_type.standard_name === standard_name)

"use strict";(self.webpackChunksrc=self.webpackChunksrc||[]).push([[1222],{"./src/Features/ERDDAP/Platform/Observations/Table/item.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:function(){return __namedExportsOrder},english:function(){return english},metric:function(){return metric}});var _english$parameters,_english$parameters2,_english$parameters2$,_metric$parameters,_metric$parameters2,_metric$parameters2$d,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_item__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/Features/ERDDAP/Platform/Observations/Table/item.tsx")),Features_Units_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Features/Units/types.ts"),stories_platform__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/stories/platform.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_item__WEBPACK_IMPORTED_MODULE_1__.r,title:"ERDDAP/ObservationTable/Item",parameters:{storyshots:{disable:!0}},argTypes:{later_then:{control:{type:"date"}}}};var english=function english(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_item__WEBPACK_IMPORTED_MODULE_1__.r,(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},args))};english.args={unitSystem:Features_Units_types__WEBPACK_IMPORTED_MODULE_2__.A.english,later_then:new Date("2/3/2020"),data_type:"wind_speed",name:"Wind Speed",platform:stories_platform__WEBPACK_IMPORTED_MODULE_3__.Jv,readings:stories_platform__WEBPACK_IMPORTED_MODULE_3__.Jv.properties.readings};var metric=function metric(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_item__WEBPACK_IMPORTED_MODULE_1__.r,(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},args))};metric.args={unitSystem:Features_Units_types__WEBPACK_IMPORTED_MODULE_2__.A.metric,later_then:new Date("2/3/2020"),data_type:"wind_speed",name:"Wind Speed",platform:stories_platform__WEBPACK_IMPORTED_MODULE_3__.Jv,readings:stories_platform__WEBPACK_IMPORTED_MODULE_3__.Jv.properties.readings},english.parameters=(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},english.parameters),{},{docs:(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},null===(_english$parameters=english.parameters)||void 0===_english$parameters?void 0:_english$parameters.docs),{},{source:(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({originalSource:"args => <TableItem {...args} />"},null===(_english$parameters2=english.parameters)||void 0===_english$parameters2||null===(_english$parameters2$=_english$parameters2.docs)||void 0===_english$parameters2$?void 0:_english$parameters2$.source)})}),metric.parameters=(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},metric.parameters),{},{docs:(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},null===(_metric$parameters=metric.parameters)||void 0===_metric$parameters?void 0:_metric$parameters.docs),{},{source:(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({originalSource:"args => <TableItem {...args} />"},null===(_metric$parameters2=metric.parameters)||void 0===_metric$parameters2||null===(_metric$parameters2$d=_metric$parameters2.docs)||void 0===_metric$parameters2$d?void 0:_metric$parameters2$d.source)})});var __namedExportsOrder=["english","metric"];try{english.displayName="english",english.__docgenInfo={description:"",displayName:"english",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Features/ERDDAP/Platform/Observations/Table/item.stories.tsx#english"]={docgenInfo:english.__docgenInfo,name:"english",path:"src/Features/ERDDAP/Platform/Observations/Table/item.stories.tsx#english"})}catch(__react_docgen_typescript_loader_error){}try{metric.displayName="metric",metric.__docgenInfo={description:"",displayName:"metric",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Features/ERDDAP/Platform/Observations/Table/item.stories.tsx#metric"]={docgenInfo:metric.__docgenInfo,name:"metric",path:"src/Features/ERDDAP/Platform/Observations/Table/item.stories.tsx#metric"})}catch(__react_docgen_typescript_loader_error){}},"./src/Features/ERDDAP/Platform/Observations/Table/item.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return itemStyle},r:function(){return TableItem}});var _usr_src_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-router-dom/dist/index.js"),reactstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/reactstrap/esm/Tooltip.js"),_sentry_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@sentry/react/esm/errorboundary.js"),Shared_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Shared/constants/index.ts"),Shared_math__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/Shared/math.ts"),Shared_urlParams__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/Shared/urlParams/index.ts"),Features_Units_Converter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Features/Units/Converter/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),itemStyle={padding:".5rem",paddingLeft:"1rem",color:"black"},TableItem=function TableItem(_ref){var platform=_ref.platform,readings=_ref.readings,data_type=_ref.data_type,name=_ref.name,unitSystem=_ref.unitSystem,later_then=_ref.later_then,_ref$exact=_ref.exact,exact=void 0!==_ref$exact&&_ref$exact,_React$useState=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),_React$useState2=(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_React$useState,2),tooltipOpen=_React$useState2[0],setTooltipOpen=_React$useState2[1],data=[];1===readings.length&&exact?data=readings:("string"==typeof data_type?[data_type]:data_type).forEach((function(data_type){readings.filter((function(ts){return data_type===ts.data_type.standard_name&&(!ts.depth||ts.depth<2)})).forEach((function(ts){return data.push(ts)}))}));if(data.length>0){if(later_then&&(data=data.filter((function(ts){return!!ts.time&&later_then<new Date(ts.time)}))),0===data.length)return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"list-group-item",children:["No ",name," data received in the last hour"]});var selected=data[0],tooltipId="".concat(selected.data_type.standard_name,"-tooltip");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.rU,{to:(0,Shared_urlParams__WEBPACK_IMPORTED_MODULE_6__.Q)((0,Shared_urlParams__WEBPACK_IMPORTED_MODULE_6__.Q)(Shared_constants__WEBPACK_IMPORTED_MODULE_1__.H.platforms.observations,":id",platform.id),":type",selected.data_type.standard_name),style:itemStyle,className:"list-group-item",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{id:tooltipId,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_sentry_react__WEBPACK_IMPORTED_MODULE_7__.SV,{fallback:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("b",{children:["Error displaying ",name]}),showDialog:!1,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(TableItemDisplay,{name:name,unitSystem:unitSystem,selected:selected})})})}),selected.time?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(reactstrap__WEBPACK_IMPORTED_MODULE_8__.Z,{className:"condition-tooltip",isOpen:tooltipOpen,autohide:!1,target:tooltipId,toggle:function toggleTooltip(){return setTooltipOpen(!tooltipOpen)},children:new Date(selected.time).toLocaleString()}):null]})}return null},TableItemDisplay=function TableItemDisplay(_ref2){var name=_ref2.name,unitSystem=_ref2.unitSystem,selected=_ref2.selected,unit_converter=(0,Features_Units_Converter__WEBPACK_IMPORTED_MODULE_2__.Z)(selected.data_type.standard_name),value=unit_converter.convertTo(selected.value,unitSystem);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("b",{children:[name,":"]})," ","number"==typeof value?(0,Shared_math__WEBPACK_IMPORTED_MODULE_9__.N)(value,1):value," ",unit_converter.displayName(unitSystem)]})};try{TableItem.displayName="TableItem",TableItem.__docgenInfo={description:"A single item in the current or all conditions tables",displayName:"TableItem",props:{platform:{defaultValue:null,description:"",name:"platform",required:!0,type:{name:"Feature<Geometry | GeometryCollection, Properties> & { id: string; properties: PlatformProperties & { ...; }; }"}},readings:{defaultValue:null,description:"",name:"readings",required:!0,type:{name:"PlatformTimeSeries[]"}},data_type:{defaultValue:null,description:"",name:"data_type",required:!0,type:{name:"string | string[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},unitSystem:{defaultValue:null,description:"",name:"unitSystem",required:!0,type:{name:"enum",value:[{value:'"Metric"'},{value:'"English"'}]}},later_then:{defaultValue:null,description:"Show only data later than the selected date",name:"later_then",required:!1,type:{name:"Date"}},exact:{defaultValue:{value:"false"},description:"The readings have already been filtered, show only the filtered value",name:"exact",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Features/ERDDAP/Platform/Observations/Table/item.tsx#TableItem"]={docgenInfo:TableItem.__docgenInfo,name:"TableItem",path:"src/Features/ERDDAP/Platform/Observations/Table/item.tsx#TableItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/Shared/constants/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{H:function(){return paths}});var regions=__webpack_require__("./src/Shared/regions.ts"),paths=(regions.U.GulfOfMaine,regions.U.LongIslandSound,regions.U.GreatBay,regions.U.Boston,regions.U.CapeCod,regions.U.NarragansettBay,regions.U.Newfoundland,{about:"/about",home:"/",map:"/map",platforms:{all:"/platform/:id/observations/all",forecast:"/platform/:id/forecast",forecastType:"/platform/:id/forecast/:type",observations:"/platform/:id/observations/:type",observationsWind:"/platform/:id/observations/wind",platform:"/platform/:id",platform_tailing:"/platform/:id/*",root:"/platform/",root_tailing:"/platform/*"},neracoos:"http://neracoos.org",models:"/models/"})},"./src/Shared/regions.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{U:function(){return regions},z:function(){return regionList}});var GulfOfMaine={bbox:{east:-65.375,north:45.125,south:40.375,west:-70.975},name:"Gulf Of Maine",slug:"GOM"},LongIslandSound={bbox:{east:-71.625,north:41.483,south:40.697,west:-73.943},name:"Long Island Sound",slug:"LONG"},GreatBay={bbox:{east:-70.637,north:43.158,south:43.012,west:-70.881},name:"Great Bay, NH",slug:"GREAT"},Boston={bbox:{east:-70.809,north:42.443,south:42.211,west:-71.145},name:"Boston Harbor",slug:"BOSTON"},CapeCod={bbox:{east:-69.837,north:42.108,south:41.389,west:-71.059},name:"Cape Cod / Buzzards Bay",slug:"CAPE"},NarragansettBay={bbox:{east:-71.06,north:41.847,south:41.307,west:-71.564},name:"Narragansett Bay",slug:"NARRAGANSETT"},Newfoundland={bbox:{east:-52.294,north:51.835,south:46.377,west:-59.809},name:"Newfoundland",slug:"NEWFOUNDLAND"},regions={Boston:Boston,CapeCod:CapeCod,GreatBay:GreatBay,GulfOfMaine:GulfOfMaine,InitialRegion:{bbox:{east:-65.775,north:45.125,south:40.375,west:-73.975},name:"Initial Region",slug:"initial"},LongIslandSound:LongIslandSound,NarragansettBay:NarragansettBay,Newfoundland:Newfoundland},regionList=[GulfOfMaine,LongIslandSound,GreatBay,Boston,CapeCod,NarragansettBay,Newfoundland]},"./src/Shared/urlParams/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function urlPartReplacer(url,key,value){return url.split("/").map((function(part){return part===key?value:part})).join("/")}__webpack_require__.d(__webpack_exports__,{Q:function(){return urlPartReplacer}})},"./node_modules/reactstrap/esm/Tooltip.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_TooltipPopoverWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/reactstrap/esm/TooltipPopoverWrapper.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function Tooltip(props){var popperClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()("tooltip","show",props.popperClassName),classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("tooltip-inner",props.innerClassName);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_TooltipPopoverWrapper__WEBPACK_IMPORTED_MODULE_2__.Z,_extends({},props,{arrowClassName:"tooltip-arrow",popperClassName:popperClasses,innerClassName:classes}))}Tooltip.propTypes=_TooltipPopoverWrapper__WEBPACK_IMPORTED_MODULE_2__.i,Tooltip.defaultProps={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"hover focus"},__webpack_exports__.Z=Tooltip}}]);
/*! For license information please see Pages-Modeling-table-stories.a8140dbc.iframe.bundle.js.LICENSE.txt */
(self.webpackChunksrc=self.webpackChunksrc||[]).push([[884],{"./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}__webpack_require__.d(__webpack_exports__,{Z:function(){return _objectWithoutPropertiesLoose}})},"./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}__webpack_require__.d(__webpack_exports__,{Z:function(){return _setPrototypeOf}})},"./src/Pages/Modeling/table.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Table:function(){return table_stories_Table},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return table_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),index_es=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),free_solid_svg_icons=__webpack_require__("./node_modules/@fortawesome/free-solid-svg-icons/index.mjs"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),utils=__webpack_require__("./node_modules/reactstrap/esm/utils.js"),_excluded=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var propTypes={bordered:prop_types_default().bool,borderless:prop_types_default().bool,className:prop_types_default().string,cssModule:prop_types_default().object,dark:prop_types_default().bool,hover:prop_types_default().bool,innerRef:prop_types_default().oneOfType([prop_types_default().func,prop_types_default().string,prop_types_default().object]),responsive:prop_types_default().oneOfType([prop_types_default().bool,prop_types_default().string]),responsiveTag:utils.iC,size:prop_types_default().string,striped:prop_types_default().bool,tag:utils.iC};function Table(props){var className=props.className,cssModule=props.cssModule,size=props.size,bordered=props.bordered,borderless=props.borderless,striped=props.striped,dark=props.dark,hover=props.hover,responsive=props.responsive,_props$tag=props.tag,Tag=void 0===_props$tag?"table":_props$tag,_props$responsiveTag=props.responsiveTag,ResponsiveTag=void 0===_props$responsiveTag?"div":_props$responsiveTag,innerRef=props.innerRef,attributes=_objectWithoutProperties(props,_excluded),classes=(0,utils.mx)(classnames_default()(className,"table",!!size&&"table-"+size,!!bordered&&"table-bordered",!!borderless&&"table-borderless",!!striped&&"table-striped",!!dark&&"table-dark",!!hover&&"table-hover"),cssModule),table=react.createElement(Tag,_extends({},attributes,{ref:innerRef,className:classes}));if(responsive){var responsiveClassName=(0,utils.mx)(!0===responsive?"table-responsive":"table-responsive-".concat(responsive),cssModule);return react.createElement(ResponsiveTag,{className:responsiveClassName},table)}return table}Table.propTypes=propTypes;var esm_Table=Table,TooltipPopoverWrapper=__webpack_require__("./node_modules/reactstrap/esm/TooltipPopoverWrapper.js");function Popover_extends(){return Popover_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},Popover_extends.apply(this,arguments)}function Popover(props){var popperClasses=classnames_default()("popover","show",props.popperClassName),classes=classnames_default()("popover-inner",props.innerClassName);return react.createElement(TooltipPopoverWrapper.Z,Popover_extends({},props,{arrowClassName:"popover-arrow",popperClassName:popperClasses,innerClassName:classes}))}Popover.propTypes=TooltipPopoverWrapper.i,Popover.defaultProps={placement:"right",placementPrefix:"bs-popover",trigger:"click",offset:[0,8]};var esm_Popover=Popover,PopoverBody_excluded=["className","cssModule","tag"];function PopoverBody_extends(){return PopoverBody_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},PopoverBody_extends.apply(this,arguments)}function PopoverBody_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function PopoverBody_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var PopoverBody_propTypes={tag:utils.iC,className:prop_types_default().string,cssModule:prop_types_default().object};function PopoverBody(props){var className=props.className,cssModule=props.cssModule,_props$tag=props.tag,Tag=void 0===_props$tag?"div":_props$tag,attributes=PopoverBody_objectWithoutProperties(props,PopoverBody_excluded),classes=(0,utils.mx)(classnames_default()(className,"popover-body"),cssModule);return react.createElement(Tag,PopoverBody_extends({},attributes,{className:classes}))}PopoverBody.propTypes=PopoverBody_propTypes;var esm_PopoverBody=PopoverBody,math=__webpack_require__("./src/Shared/math.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),EdrTable=function EdrTable(_ref){var loaded=_ref.loaded,loadedTimes=function filterTimes(loaded,after){var loadedTimes=[];return loaded.forEach((function(data,i){var values=data.response.domain.axes.t.values;loadedTimes=[].concat((0,toConsumableArray.Z)(loadedTimes),(0,toConsumableArray.Z)(values))})),loadedTimes=loadedTimes.sort((function(a,b){return new Date(a).valueOf()-new Date(b).valueOf()})),loadedTimes=(0,toConsumableArray.Z)(new Set(loadedTimes)),loadedTimes=loadedTimes.filter((function(t){return after.valueOf()<new Date(t).valueOf()})),loadedTimes}(loaded,_ref.after);return(0,jsx_runtime.jsx)("div",{style:{maxWidth:"100%",overflowX:"scroll"},children:(0,jsx_runtime.jsxs)(esm_Table,{striped:!0,hover:!0,children:[(0,jsx_runtime.jsx)(TableHead,{loadedTimes:loadedTimes}),(0,jsx_runtime.jsx)("tbody",{children:loaded.map((function(_ref2){var item=_ref2.item,layer=_ref2.layer,response=_ref2.response;return(0,jsx_runtime.jsx)(react.Fragment,{children:layer.vars.map((function(l_var,i){var unit=item.properties["cube:variables"][l_var].unit,standard_name=item.properties["cube:variables"][l_var].description;return(0,jsx_runtime.jsx)(ItemVarRow,{l_var:l_var,i:i,layer:layer,item:item,standard_name:standard_name,unit:unit,loadedTimes:loadedTimes,response:response},"".concat(item.id,"-").concat(l_var))}))},item.id)}))})]})})},ItemVarRow=function ItemVarRow(_ref3){var l_var=_ref3.l_var,i=_ref3.i,layer=_ref3.layer,item=_ref3.item,standard_name=_ref3.standard_name,unit=_ref3.unit,loadedTimes=_ref3.loadedTimes,response=_ref3.response;return(0,jsx_runtime.jsxs)("tr",{children:[0===i?(0,jsx_runtime.jsx)("th",{rowSpan:layer.vars.length,children:(0,jsx_runtime.jsx)(ItemInfo,{item:item})}):null,(0,jsx_runtime.jsxs)("th",{scope:"row",children:[standard_name," - ",unit]}),loadedTimes.map((function(t,index_key){var t_index=response.domain.axes.t.values.indexOf(t);if(t_index<0)return(0,jsx_runtime.jsx)("td",{},index_key);var value=response.ranges[l_var].values[t_index];return(0,jsx_runtime.jsx)("td",{children:(0,math.N)(value)},index_key)}))]},"".concat(item.id,"-").concat(l_var))},ItemInfo=function ItemInfo(_ref4){var _ref5,_ref6,_item$parent$descript,_item$parent,_item$parent2,item=_ref4.item,_React$useState=react.useState(!1),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),popoverOpen=_React$useState2[0],setPopoverOpen=_React$useState2[1],target="Tooltip-table-".concat(item.id),htmlLinks=item.links.filter((function(l){var _l$extra_fields,_l$extra_fields2;return"text/html"===(null===(_l$extra_fields=l.extra_fields)||void 0===_l$extra_fields?void 0:_l$extra_fields.type)&&(null===(_l$extra_fields2=l.extra_fields)||void 0===_l$extra_fields2?void 0:_l$extra_fields2.title)}));return(0,jsx_runtime.jsxs)(react.Fragment,{children:[null!==(_ref5=null!==(_ref6=null!==(_item$parent$descript=null===(_item$parent=item.parent)||void 0===_item$parent?void 0:_item$parent.description)&&void 0!==_item$parent$descript?_item$parent$descript:null===(_item$parent2=item.parent)||void 0===_item$parent2?void 0:_item$parent2.id)&&void 0!==_ref6?_ref6:item.description)&&void 0!==_ref5?_ref5:item.id," ",(0,jsx_runtime.jsx)(index_es.G,{icon:free_solid_svg_icons.sqG,id:target}),(0,jsx_runtime.jsx)(esm_Popover,{target:target,toggle:function toggle(){return setPopoverOpen(!popoverOpen)},isOpen:popoverOpen,children:(0,jsx_runtime.jsx)(esm_PopoverBody,{children:(0,jsx_runtime.jsx)("ul",{style:{paddingLeft:"1rem",textAlign:"left"},children:htmlLinks.map((function(l){var _l$extra_fields3;return(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("a",{href:l.href,children:null===(_l$extra_fields3=l.extra_fields)||void 0===_l$extra_fields3?void 0:_l$extra_fields3.title})},l.href)}))})})})]})},TableHead=function TableHead(_ref7){var loadedTimes=_ref7.loadedTimes,dates=new Set(loadedTimes.map((function(t){var _t$split=t.split("T"),_t$split2=(0,slicedToArray.Z)(_t$split,2),date=_t$split2[0];_t$split2[1];return date})));return(0,jsx_runtime.jsxs)("thead",{children:[(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("th",{colSpan:2,rowSpan:2}),(0,toConsumableArray.Z)(dates).map((function(d,i){return(0,jsx_runtime.jsx)("th",{colSpan:loadedTimes.filter((function(t){var _t$split3=t.split("T"),_t$split4=(0,slicedToArray.Z)(_t$split3,2),date=_t$split4[0];_t$split4[1];return d===date})).length,style:{borderLeftWidth:0===i?void 0:1},children:d},d)}))]}),(0,jsx_runtime.jsx)("tr",{children:loadedTimes.map((function(t,i){var _t$split5=t.split("T"),_t$split6=(0,slicedToArray.Z)(_t$split5,2),date=_t$split6[0],time=_t$split6[1],first=0===loadedTimes.filter((function(t){var _t$split7=t.split("T"),_t$split8=(0,slicedToArray.Z)(_t$split7,2),d=_t$split8[0];_t$split8[1];return d===date})).indexOf(t);return(0,jsx_runtime.jsx)("th",{style:{borderLeftWidth:first&&0!==i?1:void 0},children:time.split(":").slice(0,2).join(":")},t)}))})]})};try{EdrTable.displayName="EdrTable",EdrTable.__docgenInfo={description:"Construct a table from EDR data for selected STAC items",displayName:"EdrTable",props:{loaded:{defaultValue:null,description:"",name:"loaded",required:!0,type:{name:"LoadedData[]"}},after:{defaultValue:null,description:"",name:"after",required:!0,type:{name:"Date"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Pages/Modeling/table.tsx#EdrTable"]={docgenInfo:EdrTable.__docgenInfo,name:"EdrTable",path:"src/Pages/Modeling/table.tsx#EdrTable"})}catch(__react_docgen_typescript_loader_error){}var _Table$parameters,_Table$parameters2,_Table$parameters2$do,test_data=__webpack_require__("./src/Pages/Modeling/test-data.ts"),table_stories={component:EdrTable,title:"Modeling/Table",parameters:{storyshots:{disable:!0}}},table_stories_Table=function Table(args){return(0,jsx_runtime.jsx)(EdrTable,(0,objectSpread2.Z)({},args))};table_stories_Table.args={loaded:test_data.C,after:new Date("2022-12-06T19:39:28.946Z")},table_stories_Table.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},table_stories_Table.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Table$parameters=table_stories_Table.parameters)||void 0===_Table$parameters?void 0:_Table$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"args => <EdrTable {...args} />"},null===(_Table$parameters2=table_stories_Table.parameters)||void 0===_Table$parameters2||null===(_Table$parameters2$do=_Table$parameters2.docs)||void 0===_Table$parameters2$do?void 0:_Table$parameters2$do.source)})});var __namedExportsOrder=["Table"];try{table_stories_Table.displayName="Table",table_stories_Table.__docgenInfo={description:"",displayName:"Table",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Pages/Modeling/table.stories.tsx#Table"]={docgenInfo:table_stories_Table.__docgenInfo,name:"Table",path:"src/Pages/Modeling/table.stories.tsx#Table"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/classnames/index.js":function(module,exports){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]")){classes.push(arg.toString());continue}for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/reactstrap/esm/utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{CE:function(){return omit},Do:function(){return keyCodes},E5:function(){return TransitionStatuses},JL:function(){return PopperPlacements},Kn:function(){return isObject},U9:function(){return getTarget},ei:function(){return pick},iC:function(){return tagPropType},mx:function(){return mapToCssModules},n5:function(){return DOMElement},qW:function(){return targetPropType},rb:function(){return TransitionPropTypeKeys},wF:function(){return TransitionTimeouts},x9:function(){return deprecated}});var globalCssModule,prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function mapToCssModules(){var className=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",cssModule=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalCssModule;return cssModule?className.split(" ").map((function(c){return cssModule[c]||c})).join(" "):className}function omit(obj,omitKeys){var result={};return Object.keys(obj).forEach((function(key){-1===omitKeys.indexOf(key)&&(result[key]=obj[key])})),result}function pick(obj,keys){for(var key,pickKeys=Array.isArray(keys)?keys:[keys],length=pickKeys.length,result={};length>0;)result[key=pickKeys[length-=1]]=obj[key];return result}var warned={};function deprecated(propType,explanation){return function validate(props,propName,componentName){null!==props[propName]&&void 0!==props[propName]&&function warnOnce(message){warned[message]||("undefined"!=typeof console&&console.error(message),warned[message]=!0)}('"'.concat(propName,'" property of "').concat(componentName,'" has been deprecated.\n').concat(explanation));for(var _len=arguments.length,rest=new Array(_len>3?_len-3:0),_key=3;_key<_len;_key++)rest[_key-3]=arguments[_key];return propType.apply(void 0,[props,propName,componentName].concat(rest))}}var Element="object"===("undefined"==typeof window?"undefined":_typeof(window))&&window.Element||function(){};function DOMElement(props,propName,componentName){if(!(props[propName]instanceof Element))return new Error("Invalid prop `"+propName+"` supplied to `"+componentName+"`. Expected prop to be an instance of Element. Validation failed.")}var targetPropType=prop_types__WEBPACK_IMPORTED_MODULE_0___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,prop_types__WEBPACK_IMPORTED_MODULE_0___default().func,DOMElement,prop_types__WEBPACK_IMPORTED_MODULE_0___default().shape({current:prop_types__WEBPACK_IMPORTED_MODULE_0___default().any})]),tagPropType=prop_types__WEBPACK_IMPORTED_MODULE_0___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default().func,prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,prop_types__WEBPACK_IMPORTED_MODULE_0___default().shape({$$typeof:prop_types__WEBPACK_IMPORTED_MODULE_0___default().symbol,render:prop_types__WEBPACK_IMPORTED_MODULE_0___default().func}),prop_types__WEBPACK_IMPORTED_MODULE_0___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_0___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default().func,prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,prop_types__WEBPACK_IMPORTED_MODULE_0___default().shape({$$typeof:prop_types__WEBPACK_IMPORTED_MODULE_0___default().symbol,render:prop_types__WEBPACK_IMPORTED_MODULE_0___default().func})]))]),TransitionTimeouts={Fade:150,Collapse:350,Modal:300,Carousel:600,Offcanvas:300},TransitionPropTypeKeys=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],TransitionStatuses={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},keyCodes={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},PopperPlacements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement);function getTag(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":Object.prototype.toString.call(value)}function isObject(value){var type=_typeof(value);return null!=value&&("object"===type||"function"===type)}function findDOMElements(target){if(function isReactRefObj(target){return!(!target||"object"!==_typeof(target))&&"current"in target}(target))return target.current;if(function isFunction(value){if(!isObject(value))return!1;var tag=getTag(value);return"[object Function]"===tag||"[object AsyncFunction]"===tag||"[object GeneratorFunction]"===tag||"[object Proxy]"===tag}(target))return target();if("string"==typeof target&&canUseDOM){var selection=document.querySelectorAll(target);if(selection.length||(selection=document.querySelectorAll("#".concat(target))),!selection.length)throw new Error("The target '".concat(target,"' could not be identified in the dom, tip: check spelling"));return selection}return target}function isArrayOrNodeList(els){return null!==els&&(Array.isArray(els)||canUseDOM&&"number"==typeof els.length)}function getTarget(target,allElements){var els=findDOMElements(target);return allElements?isArrayOrNodeList(els)?els:null===els?[]:[els]:isArrayOrNodeList(els)?els[0]:els}}}]);
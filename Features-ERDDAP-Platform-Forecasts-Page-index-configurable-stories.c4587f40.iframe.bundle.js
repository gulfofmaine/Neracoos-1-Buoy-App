"use strict";(self.webpackChunksrc=self.webpackChunksrc||[]).push([[2310],{"./src/Features/ERDDAP/Platform/Forecasts/Page/index-configurable.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:function(){return __namedExportsOrder},english:function(){return english},metric:function(){return metric}});var _english$parameters,_english$parameters2,_english$parameters2$,_metric$parameters,_metric$parameters2,_metric$parameters2$d,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),Features_Units_types__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/Features/Units/types.ts")),_index__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Features/ERDDAP/Platform/Forecasts/Page/index.tsx"),_story_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Features/ERDDAP/Platform/Forecasts/Page/story-data.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_index__WEBPACK_IMPORTED_MODULE_2__.eU,title:"ERDDAP/Forecast/Configurable",parameters:{storyshots:{disable:!0}}};var english=function english(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_index__WEBPACK_IMPORTED_MODULE_2__.eU,(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},args))};english.args={unitSystem:Features_Units_types__WEBPACK_IMPORTED_MODULE_1__.A.english,data:_story_data__WEBPACK_IMPORTED_MODULE_3__.aT,type:_story_data__WEBPACK_IMPORTED_MODULE_3__.Fx};var metric=function metric(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_index__WEBPACK_IMPORTED_MODULE_2__.eU,(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},args))};metric.args={unitSystem:Features_Units_types__WEBPACK_IMPORTED_MODULE_1__.A.metric,data:_story_data__WEBPACK_IMPORTED_MODULE_3__.aT,type:_story_data__WEBPACK_IMPORTED_MODULE_3__.Fx},english.parameters=(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},english.parameters),{},{docs:(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},null===(_english$parameters=english.parameters)||void 0===_english$parameters?void 0:_english$parameters.docs),{},{source:(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({originalSource:"args => <ForecastChart {...args} />"},null===(_english$parameters2=english.parameters)||void 0===_english$parameters2||null===(_english$parameters2$=_english$parameters2.docs)||void 0===_english$parameters2$?void 0:_english$parameters2$.source)})}),metric.parameters=(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},metric.parameters),{},{docs:(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},null===(_metric$parameters=metric.parameters)||void 0===_metric$parameters?void 0:_metric$parameters.docs),{},{source:(0,_usr_src_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({originalSource:"args => <ForecastChart {...args} />"},null===(_metric$parameters2=metric.parameters)||void 0===_metric$parameters2||null===(_metric$parameters2$d=_metric$parameters2.docs)||void 0===_metric$parameters2$d?void 0:_metric$parameters2$d.source)})});var __namedExportsOrder=["english","metric"];try{english.displayName="english",english.__docgenInfo={description:"",displayName:"english",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Features/ERDDAP/Platform/Forecasts/Page/index-configurable.stories.tsx#english"]={docgenInfo:english.__docgenInfo,name:"english",path:"src/Features/ERDDAP/Platform/Forecasts/Page/index-configurable.stories.tsx#english"})}catch(__react_docgen_typescript_loader_error){}try{metric.displayName="metric",metric.__docgenInfo={description:"",displayName:"metric",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Features/ERDDAP/Platform/Forecasts/Page/index-configurable.stories.tsx#metric"]={docgenInfo:metric.__docgenInfo,name:"metric",path:"src/Features/ERDDAP/Platform/Forecasts/Page/index-configurable.stories.tsx#metric"})}catch(__react_docgen_typescript_loader_error){}},"./src/Features/ERDDAP/Platform/Forecasts/Page/story-data.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Fx:function(){return forecast_type},aT:function(){return data}});var stories_platform__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/stories/platform.ts"),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Features/ERDDAP/Platform/Forecasts/Page/index.tsx"),forecast_type="wave_height",standard_name=_index__WEBPACK_IMPORTED_MODULE_1__.ir[forecast_type],data=stories_platform__WEBPACK_IMPORTED_MODULE_0__.Jv.properties.readings.filter((function(reading){return standard_name.has(reading.data_type.standard_name)})).map((function(dataset){return{name:dataset.data_type.long_name+" observed",timeSeries:dataset.readings,unit:dataset.data_type.units}})),forecast=stories_platform__WEBPACK_IMPORTED_MODULE_0__.Jv.properties.forecasts[0];data.push({name:forecast.source.name,timeSeries:forecast.readings,unit:forecast.source.units})},"./node_modules/highcharts/modules/windbarb.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,a;a=function(a){function f(a,h,q,f){a.hasOwnProperty(h)||(a[h]=f.apply(null,q),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,module:a[h]}})))}f(a=a?a._modules:{},"Extensions/DataGrouping/ApproximationRegistry.js",[],(function(){return{}})),f(a,"Series/OnSeriesComposition.js",[a["Series/Column/ColumnSeries.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"]],(function(a,h,f){const{prototype:q}=a,{prototype:r}=h,{defined:w,stableSort:x}=f;var p;return function(a){function h(a){return r.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,a)}function p(){q.translate.apply(this);const a=this;var g=a.options,m=a.chart;const e=a.points;var d=g.onSeries;const c=(d=d&&m.get(d))&&d.options.step,b=d&&d.points,h=m.inverted,f=a.xAxis,p=a.yAxis;let l;m=e.length-1,g=g.onKey||"y";let n,u,v,y,t=b&&b.length,r=0;if(d&&d.visible&&t){r=(d.pointXOffset||0)+(d.barW||0)/2;var k=d.currentDataGrouping;for(u=b[t-1].x+(k?k.totalRange:0),x(e,((a,b)=>a.x-b.x)),g="plot"+g[0].toUpperCase()+g.substr(1);t--&&e[m]&&(n=b[t],(k=e[m]).y=n.y,!(n.x<=k.x&&void 0!==n[g]&&(k.x<=u&&(k.plotY=n[g],n.x<k.x&&!c&&(v=b[t+1])&&void 0!==v[g]&&(y=(k.x-n.x)/(v.x-n.x),k.plotY+=y*(v[g]-n[g]),k.y+=y*(v.y-n.y))),m--,t++,0>m))););}e.forEach(((b,c)=>{let m;b.plotX+=r,(void 0===b.plotY||h)&&(0<=b.plotX&&b.plotX<=f.len?h?(b.plotY=f.translate(b.x,0,1,0,1),b.plotX=w(b.y)?p.translate(b.y,0,0,0,1):0):b.plotY=(f.opposite?0:a.yAxis.len)+f.offset:b.shapeArgs={}),(l=e[c-1])&&l.plotX===b.plotX&&(void 0===l.stackIndex&&(l.stackIndex=0),m=l.stackIndex+1),b.stackIndex=m})),this.onSeries=d}const l=[];a.compose=function(a){if(f.pushUnique(l,a)){const g=a.prototype;g.getPlotBox=h,g.translate=p}return a},a.getPlotBox=h,a.translate=p}(p||(p={})),p})),f(a,"Series/Windbarb/WindbarbPoint.js",[a["Core/Utilities.js"],a["Series/Column/ColumnSeries.js"]],(function(a,f){const{isNumber:h}=a;class l extends f.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=this.direction=this.beaufortLevel=this.beaufort=void 0}isValid(){return h(this.value)&&0<=this.value}}return l})),f(a,"Series/Windbarb/WindbarbSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Extensions/DataGrouping/ApproximationRegistry.js"],a["Core/Globals.js"],a["Series/OnSeriesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"],a["Series/Windbarb/WindbarbPoint.js"]],(function(a,f,q,l,r,z,x){const{animObject:h}=a,{series:w,seriesTypes:{column:u}}=r,{extend:B,merge:C,pick:A}=z;class g extends u{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static registerApproximation(){f.windbarb||(f.windbarb=function(a,e){let b,d=0,c=0,m=a.length;for(b=0;b<m;b++)d+=a[b]*Math.cos(e[b]*q.deg2rad),c+=a[b]*Math.sin(e[b]*q.deg2rad);return[a.reduce((function(a,b){return a+b}),0)/a.length,Math.atan2(c,d)/q.deg2rad]})}init(a,e){g.registerApproximation(),w.prototype.init.call(this,a,e)}pointAttribs(a,e){let d=this.options;a=a.color||this.color;let c=this.options.lineWidth;return e&&(a=d.states[e].color||a,c=(d.states[e].lineWidth||c)+(d.states[e].lineWidthPlus||0)),{stroke:a,"stroke-width":c}}windArrow(a){let d,e=1.943844*a.value,c=this.options.vectorLength/20,b=-10;if(a.isNull)return[];if(0===a.beaufortLevel)return this.chart.renderer.symbols.circle(-10*c,-10*c,20*c,20*c);if(a=[["M",0,7*c],["L",-1.5*c,7*c],["L",0,10*c],["L",1.5*c,7*c],["L",0,7*c],["L",0,-10*c]],d=(e-e%50)/50,0<d)for(;d--;)a.push(-10===b?["L",0,b*c]:["M",0,b*c],["L",5*c,b*c+2],["L",0,b*c+4]),e-=50,b+=7;if(d=(e-e%10)/10,0<d)for(;d--;)a.push(-10===b?["L",0,b*c]:["M",0,b*c],["L",7*c,b*c]),e-=10,b+=3;if(d=(e-e%5)/5,0<d)for(;d--;)a.push(-10===b?["L",0,b*c]:["M",0,b*c],["L",4*c,b*c]),e-=5,b+=3;return a}drawPoints(){const a=this.chart,e=this.yAxis,d=a.inverted,c=this.options.vectorLength/2;this.points.forEach((function(b){const f=b.plotX,g=b.plotY;!1===this.options.clip||a.isInsidePlot(f,0)?(b.graphic||(b.graphic=this.chart.renderer.path().add(this.markerGroup).addClass("highcharts-point highcharts-color-"+A(b.colorIndex,b.series.colorIndex))),b.graphic.attr({d:this.windArrow(b),translateX:f+this.options.xOffset,translateY:g+this.options.yOffset,rotation:b.direction}),this.chart.styledMode||b.graphic.attr(this.pointAttribs(b))):b.graphic&&(b.graphic=b.graphic.destroy()),b.tooltipPos=[f+this.options.xOffset+(d&&!this.onSeries?c:0),g+this.options.yOffset-(d?0:c+e.pos-a.plotTop)]}),this)}animate(a){a?this.markerGroup.attr({opacity:.01}):this.markerGroup.animate({opacity:1},h(this.options.animation))}markerAttribs(a,e){return{}}getExtremes(){return{}}shouldShowTooltip(a,e,d={}){return d.ignoreX=this.chart.inverted,d.ignoreY=!d.ignoreX,super.shouldShowTooltip(a,e,d)}}return g.defaultOptions=C(u.defaultOptions,{dataGrouping:{enabled:!0,approximation:"windbarb",groupPixelWidth:30},lineWidth:2,onSeries:null,states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'},vectorLength:20,colorKey:"value",yOffset:-20,xOffset:0}),l.compose(g),B(g.prototype,{beaufortFloor:[0,.3,1.6,3.4,5.5,8,10.8,13.9,17.2,20.8,24.5,28.5,32.7],beaufortName:"Calm;Light air;Light breeze;Gentle breeze;Moderate breeze;Fresh breeze;Strong breeze;Near gale;Gale;Strong gale;Storm;Violent storm;Hurricane".split(";"),invertible:!1,parallelArrays:["x","value","direction"],pointArrayMap:["value","direction"],pointClass:x,trackerGroups:["markerGroup"],translate:function(){const a=this.beaufortFloor,e=this.beaufortName;l.translate.call(this),this.points.forEach((function(d){let c=0;for(;c<a.length&&!(a[c]>d.value);c++);d.beaufortLevel=c-1,d.beaufort=e[c-1]}))}}),g.registerApproximation(),r.registerSeriesType("windbarb",g),g})),f(a,"masters/modules/windbarb.src.js",[],(function(){}))},module.exports?(a.default=a,module.exports=a):(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("./node_modules/highcharts/highcharts.js")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(f){return a(f),a.Highcharts=f,a}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"./node_modules/react-jsx-highcharts/dist/es/components/PlotBandLine/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{_:function(){return ChartPlotLine}});var react=__webpack_require__("./node_modules/react/index.js");const PlotBandLineContext=(0,react.createContext)();PlotBandLineContext.displayName="PlotBandLineContext";var components_PlotBandLineContext=PlotBandLineContext,v4=__webpack_require__("./node_modules/react-jsx-highcharts/node_modules/uuid/dist/esm-browser/v4.js"),UseModifiedProps=__webpack_require__("./node_modules/react-jsx-highcharts/dist/es/components/UseModifiedProps/index.js"),UseAxis=__webpack_require__("./node_modules/react-jsx-highcharts/dist/es/components/UseAxis/index.js");function usePlotBandLineLifecycle(props,plotType){const{id:id=v4.Z,axisId:axisId,children:children,...rest}=props,axis=(0,UseAxis.Z)(axisId),idRef=(0,react.useRef)(),[plotbandline,setPlotbandline]=(0,react.useState)(null),modifiedProps=(0,UseModifiedProps.Z)(rest);return(0,react.useEffect)((()=>{if(axis&&(!plotbandline||!1!==modifiedProps)){plotbandline||(idRef.current="function"==typeof id?id():id);const myId=idRef.current,opts={id:myId,...rest};plotbandline&&axis.removePlotBandOrLine(idRef.current),axis.addPlotBandOrLine(opts,plotType),setPlotbandline({id:myId,get object(){return axis&&axis.object&&axis.object.plotLinesAndBands?axis.object.plotLinesAndBands.find((plb=>plb.id===myId)):null}})}})),(0,react.useEffect)((()=>()=>{try{axis.removePlotBandOrLine(idRef.current)}catch{}}),[]),plotbandline}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const PlotBand=(0,react.memo)((props=>{const plotband=usePlotBandLineLifecycle(props,"plotBands"),{children:children}=props;return children||plotband?(0,jsx_runtime.jsx)(components_PlotBandLineContext.Provider,{value:plotband,children:children}):null}));PlotBand.displayName="PlotBand";var PlotBandLine_PlotBand=PlotBand;const PlotLine=(0,react.memo)((props=>{const plotline=usePlotBandLineLifecycle(props,"plotLines"),{children:children}=props;return children||plotline?(0,jsx_runtime.jsx)(components_PlotBandLineContext.Provider,{value:plotline,children:children}):null}));PlotLine.displayName="PlotLine";var PlotBandLine_PlotLine=PlotLine;const PlotBandLineLabel=(0,react.memo)((props=>{const providedPlotbandline=function usePlotBandLine(){return(0,react.useContext)(components_PlotBandLineContext)}();return(0,react.useEffect)((()=>{if(!providedPlotbandline)return;const{children:text,id:id,...rest}=props;updatePlotBandLineLabel(providedPlotbandline.object,{text:text,...rest})})),(0,react.useEffect)((()=>()=>{if(providedPlotbandline)try{updatePlotBandLineLabel(providedPlotbandline.object,{text:null})}catch{}}),[]),null})),updatePlotBandLineLabel=(plotbandline,config)=>{plotbandline&&(plotbandline.options.label=getLabelProps(config),plotbandline.render())},getLabelProps=props=>{const{text:text,formatter:formatter,align:align,rotation:rotation,style:style,textAlign:textAlign,useHTML:useHTML,verticalAlign:verticalAlign,x:x,y:y}=props;return{text:text,formatter:formatter,align:align,rotation:rotation,style:style,textAlign:textAlign,useHTML:useHTML,verticalAlign:verticalAlign,x:x,y:y}};PlotBandLineLabel.displayName="PlotBandLineLabel";var PlotBandLine_PlotBandLineLabel=PlotBandLineLabel;PlotBandLine_PlotBand.Label=PlotBandLine_PlotBandLineLabel;const ChartPlotLine=PlotBandLine_PlotLine;ChartPlotLine.Label=PlotBandLine_PlotBandLineLabel}}]);